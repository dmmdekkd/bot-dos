import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,f as e,o as i}from"./app-DgoeIx6D.js";const t={};function l(p,n){return i(),a("div",null,n[0]||(n[0]=[e(`<h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用</span></a></h2><div class="hint-container tip"><p class="hint-container-title">使用者提示</p><p>运行并控制机器人</p></div><h2 id="一、运行" tabindex="-1"><a class="header-anchor" href="#一、运行"><span>一、运行</span></a></h2><div class="code-block-with-title"><div class="code-block-title-bar" data-title="启动"><span>启动</span></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">yarn</span> run app</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="重新登录"><span>重新登录</span></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">yarn</span> run app <span class="token parameter variable">--relogin</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="进程托管"><span>进程托管</span></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">yarn</span> run start</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><div class="code-block-with-title"><div class="code-block-title-bar" data-title="杀死进程"><span>杀死进程</span></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">yarn</span> run <span class="token function">kill</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><blockquote><p>更多内容，请阅读 <a href="https://pm2.keymetrics.io/" target="_blank" rel="noopener noreferrer">PM2</a> 使用文档</p></blockquote><h2 id="二-、拓展模块的安装及配置" tabindex="-1"><a class="header-anchor" href="#二-、拓展模块的安装及配置"><span>二 、拓展模块的安装及配置</span></a></h2><p><a href="/docs/docs/category/module-shop">拓展模块库</a></p><div class="hint-container tip"><p class="hint-container-title">YunzaiJS 支持模块化拓展功能</p><p>可对YunzaiJS进行安装扩展模块并配置， 丰富机器人功能、增强机器人体验</p></div><p>模块配置文件字段说明：</p><ul><li><code>applications</code>：应用列表，所有启用的模块应用在此字段处配置（可以浅理解为<code>插件</code>）</li><li><code>middlewares</code>：中间件列表，所有启用的中间件模块在此字段处配置 （特殊处理模块）</li></ul><div class="hint-container caution"><p class="hint-container-title">中间件处理模块会对全部<code>applications</code>生效</p></div><p>用户侧配置文件详解：</p><h3 id="应用及中间件配置" tabindex="-1"><a class="header-anchor" href="#应用及中间件配置"><span>应用及中间件配置</span></a></h3><p>最新版本支持 js 和 json 格式的模块配置文件，推荐使用json格式的配置文件，选择其中一个即可：</p><ol><li><strong>yunzai.config.js</strong>：</li></ol><p>配置文件路径： <code>bot/yunzai.config.js</code></p><p>不推荐未掌握js便修改此文件，</p><p>请注意如果使用了此配置文件，在<code>移除</code>模块时需要修改此文件删除对应模块的配置</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="yunzai.config.js"><span>yunzai.config.js</span></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;yunzaijs&#39;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  applications<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;@yunzaijs/system&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 所有模块应用</span></span>
<span class="line">  middlewares<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;@yunzaijs/mys/runtime&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;@yunzaijs/mw&#39;</span><span class="token punctuation">]</span> <span class="token comment">// 所有中间件</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><ol start="2"><li><strong>yunzai.config.json</strong>：</li></ol><p>配置文件路径： <code>bot/yunzai.config.json</code></p><p>使用json格式的配置文件需要<code>手动创建</code>，</p><p>请注意<code>移除</code>模块时需要修改此文件删除对应模块的配置</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="yunzai.config.json"><span>yunzai.config.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;applications&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@yunzaijs/system&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;middlewares&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@yunzaijs/mys/runtime&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;@yunzaijs/mys/mw&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="安装及配置演示" tabindex="-1"><a class="header-anchor" href="#安装及配置演示"><span>安装及配置演示</span></a></h3><p>如下为 <code>修仙</code> 模块（插件）的安装及配置演示：</p><ol><li>安装 <code>yz-xiuxian</code> 模块</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">yarn</span> <span class="token function">add</span> yz-xiuxian <span class="token parameter variable">-W</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li>创建yunzai.config.json文件并写入以下内容</li></ol><div class="code-block-with-title"><div class="code-block-title-bar" data-title="yunzai.config.json"><span>yunzai.config.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;applications&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;yz-xiuxian&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><ol start="3"><li>其他讲解</li></ol><blockquote><p>可以理解为，V3是自动档，Next是手动挡</p></blockquote><ul><li>Yunzai-V3</li></ul><ol><li><p>V3的逻辑是遍历plugins目录下所有js文件或子目录下的index.js文件，通过加载入口文件，将插件注册到机器人中。</p></li><li><p>通过git工具对代码进行管理</p></li><li><p>需要手动进行依赖安装，同时确保该插件的<code>package.json</code>文件中有标注依赖，若依赖缺失，则需要手动添加缺失的依赖（可根据终端的报错日志提示进行安装），否则无法正常进行后续操作。</p></li></ol><ul><li>YunzaiJS</li></ul><ol><li><p>使用了node模块化设计，通过默认的 包管理器<code>yarn</code> 对模块进行版本管理</p></li><li><p>可以随时通过指令切换任意稳定版本</p></li></ol><div class="code-block-with-title"><div class="code-block-title-bar" data-title="版本切换示例"><span>版本切换示例</span></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># 最初版</span></span>
<span class="line"><span class="token function">yarn</span> <span class="token function">add</span> yz-xiuxian@1.0.0 <span class="token parameter variable">-W</span></span>
<span class="line"><span class="token comment"># 最新版</span></span>
<span class="line"><span class="token function">yarn</span> <span class="token function">add</span> yz-xiuxian@latest</span>
<span class="line"><span class="token comment"># 指定版本x.x.x</span></span>
<span class="line"><span class="token function">yarn</span> <span class="token function">add</span> yz-xiuxian@x.x.x <span class="token parameter variable">-W</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><ol start="3"><li>一般情况下，无需修改yunzai.config.json文件。</li></ol><blockquote><p>除非对该模块进行了删除，那就必须修改 <code>yunzai-bot/yunzai.config.json</code> 确保不再加载该模块， 在模块安装的那一刻 <a href="https://www.yarnpkg.cn/" target="_blank" rel="noopener noreferrer">Yarn - JavaScript 软件包管理器</a> 就已经接管并自动管理该模块和它的依赖，除非开发者发布模块时，关联的其他依赖配置不全，才需要手动添加。</p></blockquote><div class="code-block-with-title"><div class="code-block-title-bar" data-title="删除yu-xiuxian模块示例"><span>删除yu-xiuxian模块示例</span></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">yarn</span> remove yz-xiuxian</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><h2 id="三-、yunzai-v3-插件的安装" tabindex="-1"><a class="header-anchor" href="#三-、yunzai-v3-插件的安装"><span>三 、Yunzai-V3 插件的安装</span></a></h2><p>仅 <a href="https://github.com/yunzaijs/yunzai-bot" target="_blank" rel="noopener noreferrer">BOT PE</a> 配置了 <code>V3</code> 插件的兼容。</p><h3 id="克隆插件" tabindex="-1"><a class="header-anchor" href="#克隆插件"><span>克隆插件</span></a></h3><p>进入插件库，找到需要的且能使用的插件，按照插件的说明仅仅克隆下载插件：<a href="https://github.com/yhArcadia/Yunzai-Bot-plugins-index" target="_blank" rel="noopener noreferrer">Yunzai-Bot V3 插件仓库</a></p><h3 id="安装依赖" tabindex="-1"><a class="header-anchor" href="#安装依赖"><span>安装依赖</span></a></h3><p>进入<code>bot</code>目录，执行 <code>yarn</code> 命令安装依赖即可。无需使用对应插件说明的 <code>pnpm install</code> 或 <code>pnpm i</code> 命令。</p><h3 id="喵喵插件和genshin插件的支持" tabindex="-1"><a class="header-anchor" href="#喵喵插件和genshin插件的支持"><span>喵喵插件和genshin插件的支持</span></a></h3><blockquote><p>当前仅有喵崽环境支持几乎所有的米游类插件</p></blockquote><blockquote><p>需要此环境的bot务必执行补丁脚本并安装原神和喵喵插件</p></blockquote><p>如需使用 genshin插件 和 miao-plugin，可使用以下方式安装：</p><p>bot根目录执行：</p><ul><li>执行补丁</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">node</span> lib/miao-yunzai.js</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>安装喵喵插件</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">git</span> clone <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">1</span> https://github.com/yoimiya-kokomi/miao-plugin.git ./plugins/miao-plugin/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># or</span></span>
<span class="line"><span class="token function">git</span> clone <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">1</span> https://gitee.com/yoimiya-kokomi/miao-plugin.git ./plugins/miao-plugin/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>安装原神插件</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">git</span> clone <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">1</span> <span class="token parameter variable">-b</span> deploy https://github.com/yunzaijs/genshin.git ./plugins/genshin/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># or</span></span>
<span class="line"><span class="token function">git</span> clone <span class="token parameter variable">--depth</span><span class="token operator">=</span><span class="token number">1</span> <span class="token parameter variable">-b</span> deploy https://gitee.com/yunzaijs/genshin.git ./plugins/genshin/</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果不需要使用，可执行去除环境命令</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">node</span> lib/miao-yunzai.js <span class="token parameter variable">--delete</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,64)]))}const r=s(t,[["render",l]]),d=JSON.parse('{"path":"/robot/Yunzai/YunzaiJS/","title":"Yunzai JS","lang":"zh-CN","frontmatter":{"title":"Yunzai JS","icon":"robot","description":"使用 使用者提示 运行并控制机器人 一、运行 启动 重新登录 进程托管 杀死进程 更多内容，请阅读 PM2 使用文档 二 、拓展模块的安装及配置 拓展模块库 YunzaiJS 支持模块化拓展功能 可对YunzaiJS进行安装扩展模块并配置， 丰富机器人功能、增强机器人体验 模块配置文件字段说明： applications：应用列表，所有启用的模块应用在...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Yunzai JS\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-05-05T14:37:53.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"\\"}]}"],["meta",{"property":"og:url","content":"https://github.com/dmmdekkd/bot-dos/robot/Yunzai/YunzaiJS/"}],["meta",{"property":"og:site_name","content":"织语文档"}],["meta",{"property":"og:title","content":"Yunzai JS"}],["meta",{"property":"og:description","content":"使用 使用者提示 运行并控制机器人 一、运行 启动 重新登录 进程托管 杀死进程 更多内容，请阅读 PM2 使用文档 二 、拓展模块的安装及配置 拓展模块库 YunzaiJS 支持模块化拓展功能 可对YunzaiJS进行安装扩展模块并配置， 丰富机器人功能、增强机器人体验 模块配置文件字段说明： applications：应用列表，所有启用的模块应用在..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-05T14:37:53.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-05T14:37:53.000Z"}]]},"git":{"createdTime":1734863876000,"updatedTime":1746455873000,"contributors":[{"name":"zlmx","username":"zlmx","email":"3448585471@qq.com","commits":1,"url":"https://github.com/zlmx"},{"name":"你的全名","username":"","email":"3448585471@qq.com","commits":1},{"name":"dmmdekkd","username":"dmmdekkd","email":"167739314+dmmdekkd@users.noreply.github.com","commits":1,"url":"https://github.com/dmmdekkd"}]},"readingTime":{"minutes":3.64,"words":1093},"filePathRelative":"robot/Yunzai/YunzaiJS/README.md","autoDesc":true,"excerpt":"<h2>使用</h2>\\n<div class=\\"hint-container tip\\">\\n<p class=\\"hint-container-title\\">使用者提示</p>\\n<p>运行并控制机器人</p>\\n</div>\\n<h2>一、运行</h2>\\n<div class=\\"code-block-with-title\\">\\n  <div class=\\"code-block-title-bar\\" data-title=\\"启动\\">\\n    <span>启动</span>\\n  </div>\\n  <div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"prismjs\\" data-ext=\\"sh\\"><pre><code><span class=\\"line\\"><span class=\\"token function\\">yarn</span> run app</span>\\n<span class=\\"line\\"></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>\\n</div>"}');export{r as comp,d as data};
